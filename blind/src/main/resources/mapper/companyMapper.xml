<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ksinfo.blind.manage.mapper.CompanyMapper">
	<select id="getCompanyList" resultType="com.ksinfo.blind.manage.vo.CompanyVO">
		SELECT
			com.company_id,
			verify_flag,
			closing_flag,
			company_name,
			business_type_name,
			company_address,
			TO_CHAR(founding_date, 'YYYY-MM-DD') AS founding_date,
			workers_count,
			company_domain,
			user_nickName,
			TO_CHAR(app_date, 'YYYY-MM-DD') AS app_date
		FROM blind.company_mgt AS com
		INNER JOIN blind.user_mgt ON com.user_id = user_mgt.user_id
		INNER JOIN blind.business_type_mst ON com.business_type_code = business_type_mst.business_type_code
<!--		<where>-->
<!--			<if test="verifyFlag neq null">-->
<!--				verify_flag = #{verifyFlag}-->
<!--			</if>-->
<!--			<if test="closingFlag neq null">-->
<!--				AND closing_flag = #{closingFlag}-->
<!--			</if>-->
<!--		</where>-->
		WHERE
			verify_flag = '0'
		ORDER BY company_id ASC;
	</select>
</mapper>
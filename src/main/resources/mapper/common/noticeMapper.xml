<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ksinfo.blind.common.mapper.NoticeMapper">

    <select id="getNoticeList" resultType="com.ksinfo.blind.common.vo.NoticeVO">
        SELECT  notice_title AS noticeTitle,
                ntm.notice_type_name AS noticeTypeName,
                um.user_nickname AS userNickname,
                notice_contents AS noticeContents,

                notice_website_url AS noticeWebsiteUrl,
                post_file_id AS postFileId,
                notice_create_date  AS noticeCreateDate,
                notice_update_date AS noticeUpdateDate

        FROM blind.notice_mgt as nm

        LEFT Join blind.notice_type_mst as ntm
        ON nm.notice_type_code = ntm.notice_type_code

        LEFT Join blind.user_mgt as um
        ON nm.user_id = um.user_id

        WHERE ntm.logical_del_flag = '0'
        AND nm.notice_blind_flag ='0'
        ORDER BY nm.notice_id;

    </select>

</mapper>